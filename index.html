<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<title>Meu App</title>

<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#0b1e39">

<style>
  body {
    margin:0;
    padding:0;
    background:#fff;
    font-family: Arial;
    height:100vh;
    overflow:hidden;
  }

  #conteudo {
    position:fixed;
    top:0; left:0; right:0; bottom:0;
    overflow-y:auto;
    background:#fff;
  }

  #loading {
    position:fixed;
    top:0; left:0; right:0; bottom:0;
    background:#0b1e39;
    color:#fff;
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:20px;
    z-index:99;
  }
</style>
</head>
<body>

<div id="loading">Carregando...</div>
<div id="conteudo"></div>

<script>
/********************************************************************
 *  üî• CARREGADOR UNIVERSAL DE SITES (INCLUSIVE F360)
 *  Usando proxy seguro para contornar CORS + X-Frame-Options
 ********************************************************************/
async function carregarSite() {
  const urlOriginal = "https://financas.f360.com.br/";
  const proxy = "https://api.allorigins.win/raw?url=" + encodeURIComponent(urlOriginal);

  const div = document.getElementById("conteudo");

  try {
    const html = await fetch(proxy).then(r => r.text());

    // Insere o HTML carregado
    div.innerHTML = html;

  } catch (e) {
    div.innerHTML = `
      <h2 style="padding:20px;font-family:Arial;">
      ‚ùå Erro ao carregar o site<br><br>
      O F360 bloqueia carregamento direto.<br>
      Mas seu proxy j√° est√° configurado.<br>
      Recarregue o app.
      </h2>
    `;
  }

  document.getElementById("loading").style.display = "none";
}

carregarSite();

/* PWA */
if ("serviceWorker" in navigator) {
  navigator.serviceWorker.register("sw.js");
}
</script>

</body>
</html>
